<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
  An illustrated way to enable openVPN on Qubes OS 4.1.2

    </title>
    
    <link rel="stylesheet" href="/css/main.min.b0ac2a435097757bc0f52ca79b98b87531ff99fa1b4c88d169395513962577d9.css" /><meta property="og:title" content="An illustrated way to enable openVPN on Qubes OS 4.1.2" />
<meta property="og:description" content="description of first post" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ebellani.github.io/blog/2023/vpn-qubes/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-07-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-07-01T00:00:00+00:00" />

</head>
  <body><nav>
  <img
    src="/img/triquetra.png"
    alt="put your logo here"
    width="128"
    height="128"
  />
  <h1>Eduardo&#39;s blog</h1>
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/blog">Blog</a></li>
  </ul>
</nav>
<main>
  <h2>An illustrated way to enable openVPN on Qubes OS 4.1.2
    <small>
      <time>July 1, 2023</time>
    by Eduardo Bellani


    </small>
  </h2><p>In my view, Qubes OS lives up to its motto: <code>A reasonably secure operating system</code>. I use it for work and personal matters every day.</p>
<p>One challenging bit, when you use it in a work setting specially, is to
set up a VPN qube for your <a href="https://www.qubes-os.org/doc/glossary/#app-qube">app qubes</a>.</p>
<p>There are probably other ways to do this, but the way I chose to
structure my setup was the following:</p>
<figure><img src="/ox-hugo/vpn_qubes.png"/>
</figure>

<p>After you create your <a href="https://www.qubes-os.org/doc/glossary/#app-qube">app qube</a> for the VPN and assuming your template is
Debian, go to the template terminal (Debian 11) and run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">  $ sudo apt install openvpn network-manager-openvpn-gnome
</span></span></code></pre></div><p>After this you should enable the network-manager service:</p>
<figure><img src="/ox-hugo/vpn-network-service.png"/>
</figure>

<p>Here comes the (for me) obscure trick: after importing your opvn file
through the network manager:</p>
<ol>
<li>Go to IPv4 Settings tab</li>
<li>Click to the <code>Routes...</code> button</li>
<li>Select the <code>Use this connection only for resources on its network</code></li>
</ol>
<p>Why does it work? I don&rsquo;t know. If you do, please email me.</p>



   

   

   

   

   

   

   

   

   

   

   





<footer>
  <p>Feel free to send me an email: ebellani -at- gmail -dot- com</p>
  <p>
    Fingerprint: 48C50C6F1139C5160AA0DC2BC54D00BC4DF7CA7C
  </p>
</footer>

      </main>
    </main>
  </body>
</html>
